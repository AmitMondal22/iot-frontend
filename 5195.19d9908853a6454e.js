"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[5195],{5195:(J,A,r)=>{r.r(A),r.d(A,{ModelModule:()=>X});var p=r(6814),b=r(3557),t=r(5219),y=r(9862),e=r(4769),f=r(95),D=r(981),U=r(8814),Z=r(9232),d=r(707),u=r(3714),g=r(4480),T=r(4104),s=r(1312),_=r(6340),v=r(3904);function h(o,m){if(1&o){const i=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.openNew())}),e.qZA(),e.TgZ(1,"button",14),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.deleteSelectedProducts())}),e.qZA()}if(2&o){const i=e.oxw();e.xp6(1),e.Q6J("label",i.Delete)("disabled",!i.selectedProducts||!i.selectedProducts.length)}}function C(o,m){1&o&&e._UZ(0,"p-fileUpload",15)(1,"button",16),2&o&&e.Q6J("maxFileSize",1e6)}function w(o,m){if(1&o){const i=e.EpF();e.TgZ(0,"div",17)(1,"h5",18),e._uU(2,"Manage Models"),e.qZA(),e.TgZ(3,"span",19),e._UZ(4,"i",20),e.TgZ(5,"input",21),e.NdJ("input",function(a){e.CHM(i),e.oxw();const c=e.MAs(6);return e.KtG(c.filterGlobal(a.target.value,"contains"))}),e.qZA()()()}}function S(o,m){1&o&&(e.TgZ(0,"tr")(1,"th",22),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th",23),e._uU(6,"Company Name "),e._UZ(7,"p-sortIcon",24),e.qZA(),e.TgZ(8,"th",25),e._uU(9,"Product Name "),e._UZ(10,"p-sortIcon",26),e.qZA(),e.TgZ(11,"th",27),e._uU(12,"Model Name "),e._UZ(13,"p-sortIcon",28),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Action"),e.qZA()())}function B(o,m){if(1&o){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",29),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",30),e.NdJ("click",function(){const c=e.CHM(i).$implicit,l=e.oxw();return e.KtG(l.editProduct(c))}),e.qZA(),e.TgZ(13,"button",31),e.NdJ("click",function(){const c=e.CHM(i).$implicit,l=e.oxw();return e.KtG(l.deleteProduct(c))}),e.qZA()()()}if(2&o){const i=m.$implicit;e.xp6(2),e.Q6J("value",i),e.xp6(2),e.Oqu(i.model_id),e.xp6(2),e.Oqu(i.company_name),e.xp6(2),e.Oqu(i.product_name),e.xp6(2),e.Oqu(i.model_name)}}function E(o,m){if(1&o&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.hij("In total there are ",i.model?i.model.length:0," Models.")}}function k(o,m){if(1&o&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&o){const i=m.$implicit;e.Q6J("value",i.company_id),e.xp6(1),e.Oqu(i.company_name)}}function O(o,m){if(1&o&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&o){const i=m.$implicit;e.Q6J("value",i.product_id),e.xp6(1),e.Oqu(i.product_name)}}function F(o,m){if(1&o&&(e.TgZ(0,"from",32)(1,"div",33)(2,"label",34),e._uU(3,"Company Name"),e.qZA(),e.TgZ(4,"select",35)(5,"option",36),e._uU(6,"Select a Company"),e.qZA(),e.YNc(7,k,2,2,"option",37),e.qZA()(),e.TgZ(8,"div",33)(9,"label",38),e._uU(10,"Product Name"),e.qZA(),e.TgZ(11,"select",39)(12,"option",36),e._uU(13,"Select a Product"),e.qZA(),e.YNc(14,O,2,2,"option",37),e.qZA()(),e.TgZ(15,"div",33)(16,"label",38),e._uU(17,"Model Name"),e.qZA(),e._UZ(18,"input",40),e.qZA()()),2&o){const i=e.oxw();e.Q6J("formGroup",i.userForm),e.xp6(7),e.Q6J("ngForOf",i.companys),e.xp6(7),e.Q6J("ngForOf",i.products)}}function Y(o,m){if(1&o){const i=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.hideDialog())}),e.qZA(),e.TgZ(1,"button",42),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.saveProduct())}),e.qZA()}}const R=function(){return["name","country.name","representative.name","status"]},Q=function(){return{"min-width":"75rem"}},q=function(){return{width:"550px"}},L=function(){return{width:"450px"}};let z=(()=>{var o;class m{constructor(n,a,c,l,M,x){this.formBuilder=n,this.http=a,this.productService=c,this.messageService=l,this.confirmationService=M,this.api=x,this.productDialog=!1,this.submitted=!1,this.companyList=[],this.productList=[],this.modelList=[],this.userForm=this.formBuilder.group({company_id:[""],product_id:[""],model_name:[""],model_id:[""]})}ngOnInit(){this.ct=this.userForm.controls,this.getDeviceCompany(),this.getDeviceProduct(),this.getDeviceModel()}getDeviceModel(){const n=this.api.baseUrl,a=localStorage.getItem("token"),c=(new y.WM).set("Authorization",`Bearer ${a}`);this.http.get(n+"/master/model_name",{headers:c}).subscribe(l=>{console.log(l),this.modelList=l,this.models=this.modelList.data},l=>{console.error(l),this.messageService.add({severity:"error",summary:"Error",detail:"From Server Side!!",life:3e3})})}getDeviceCompany(){const n=this.api.baseUrl,a=localStorage.getItem("token"),c=(new y.WM).set("Authorization",`Bearer ${a}`);this.http.get(n+"/master/company_name",{headers:c}).subscribe(l=>{console.log(l),this.companyList=l,this.companys=this.companyList.data},l=>{console.error(l)})}getDeviceProduct(){const n=this.api.baseUrl,a=localStorage.getItem("token"),c=(new y.WM).set("Authorization",`Bearer ${a}`);this.http.get(n+"/master/product_name",{headers:c}).subscribe(l=>{console.log(l),this.productList=l,this.products=this.productList.data},l=>{console.error(l)})}openNew(){this.userForm.reset(),this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.products=this.products.filter(n=>!this.selectedProducts?.includes(n)),this.selectedProducts=null,this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})}editProduct(n){this.product={...n},this.productDialog=!0,this.userForm.patchValue({company_id:n.company_id,product_id:n.product_id,model_name:n.model_name,model_id:n.model_id})}deleteProduct(n){this.confirmationService.confirm({message:"Are you sure you want to delete "+n.model_name+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.DeleteCompany(n.model_id)}})}hideDialog(){this.productDialog=!1}saveProduct(){this.product.model_id?this.updateCompany(this.ct.company_id.value,this.ct.product_id.value,this.ct.model_name.value,this.ct.model_id.value):this.AddCompany(this.ct.company_id.value,this.ct.product_id.value,this.ct.model_name.value),this.products=[...this.products],this.productDialog=!1,this.product={}}findIndexById(n){let a=-1;for(let c=0;c<this.products.length;c++)if(this.products[c].company_id===n){a=c;break}return a}updateCompany(n,a,c,l){const M={company_id:n,product_id:a,model_name:c,model_id:l},x=this.api.baseUrl,I=localStorage.getItem("token"),P=(new y.WM).set("Authorization",`Bearer ${I}`);this.http.post(x+"/master/edit_model_name",M,{headers:P}).subscribe(N=>{console.log(N),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Updated",life:3e3}),this.getDeviceModel()},N=>{this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(N)})}AddCompany(n,a,c){const l={company_id:n,product_id:a,model_name:c},M=this.api.baseUrl,x=localStorage.getItem("token"),I=(new y.WM).set("Authorization",`Bearer ${x}`);this.http.post(M+"/master/add_model_name",l,{headers:I}).subscribe(P=>{console.log(P),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Created",life:3e3}),this.getDeviceModel()},P=>{this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(P)})}DeleteCompany(n){const a={model_id:n},c=this.api.baseUrl,l=localStorage.getItem("token"),M=(new y.WM).set("Authorization",`Bearer ${l}`);this.http.post(c+"/master/delete_model_name",a,{headers:M}).subscribe(x=>{console.log(x),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Deleted",life:3e3}),this.getDeviceModel()},x=>{this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(x)})}}return(o=m).\u0275fac=function(n){return new(n||o)(e.Y36(f.qu),e.Y36(y.eN),e.Y36(D.M),e.Y36(t.ez),e.Y36(t.YP),e.Y36(U.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-model"]],features:[e._Bn([t.ez,t.YP])],decls:15,vars:18,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],["dataKey","company_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Product Details","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger",3,"label","disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","4rem"],["pSortableColumn","company",2,"min-width","15rem"],["field","company"],["pSortableColumn","product",2,"min-width","15rem"],["field","product"],["pSortableColumn","model",2,"min-width","15rem"],["field","model"],[3,"value"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[3,"formGroup"],[1,"field"],["for","company"],["formControlName","company_id",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["for","product"],["formControlName","product_id",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["formControlName","model_name","type","text","required","",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"p-toolbar",1),e.YNc(3,h,2,2,"ng-template",2),e.YNc(4,C,2,1,"ng-template",3),e.qZA(),e.TgZ(5,"p-table",4,5),e.NdJ("selectionChange",function(l){return a.selectedProducts=l}),e.YNc(7,w,6,0,"ng-template",6),e.YNc(8,S,16,0,"ng-template",7),e.YNc(9,B,14,5,"ng-template",8),e.YNc(10,E,2,1,"ng-template",9),e.qZA()(),e.TgZ(11,"p-dialog",10),e.NdJ("visibleChange",function(l){return a.productDialog=l}),e.YNc(12,F,19,3,"ng-template",11),e.YNc(13,Y,2,0,"ng-template",12),e.qZA(),e._UZ(14,"p-confirmDialog")),2&n&&(e.xp6(5),e.Q6J("value",a.models)("rows",4)("paginator",!0)("globalFilterFields",e.DdM(14,R))("tableStyle",e.DdM(15,Q))("selection",a.selectedProducts)("rowHover",!0)("showCurrentPageReport",!0),e.xp6(6),e.Akn(e.DdM(16,q)),e.Q6J("visible",a.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(17,L)))},dependencies:[p.sg,f.YN,f.Kr,f.Fj,f.EJ,f.JJ,f.JL,f.Q7,Z.iA,t.jx,Z.lQ,Z.fz,Z.UA,Z.Mo,d.Hq,u.o,g.H,T.FN,s.V,_.o,v.Q,f.sg,f.u]}),m})(),K=(()=>{var o;class m{}return(o=m).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[b.Bz.forChild([{path:"",component:z}]),b.Bz]}),m})();var W=r(6804),j=r(4055),H=r(3965),G=r(6651),$=r(7902),V=r(6022);let X=(()=>{var o;class m{}return(o=m).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,f.u5,Z.U$,V.Xt,d.hJ,$.JH,u.j,W.KZ,g.T,j.q4,H.kW,G.q,T.EV,s.S,_.V,v.D,K,f.UX]}),m})()},6651:(J,A,r)=>{r.d(A,{k:()=>U,q:()=>Z});var p=r(1180),b=r(6814),t=r(4769);function y(d,u){if(1&d&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&d){const g=t.oxw(2);t.Udp("display",null!=g.value&&0!==g.value?"flex":"none"),t.xp6(1),t.AsE("",g.value,"",g.unit,"")}}function e(d,u){if(1&d&&(t.TgZ(0,"div",3),t.YNc(1,y,2,4,"div",4),t.qZA()),2&d){const g=t.oxw();t.Udp("width",g.value+"%")("background",g.color),t.xp6(1),t.Q6J("ngIf",g.showValue)}}function f(d,u){if(1&d&&(t.TgZ(0,"div",6),t._UZ(1,"div",7),t.qZA()),2&d){const g=t.oxw();t.xp6(1),t.Udp("background",g.color)}}const D=function(d,u){return{"p-progressbar p-component":!0,"p-progressbar-determinate":d,"p-progressbar-indeterminate":u}};let U=(()=>{var d;class u{constructor(){(0,p.Z)(this,"value",void 0),(0,p.Z)(this,"showValue",!0),(0,p.Z)(this,"styleClass",void 0),(0,p.Z)(this,"style",void 0),(0,p.Z)(this,"unit","%"),(0,p.Z)(this,"mode","determinate"),(0,p.Z)(this,"color",void 0)}}return d=u,(0,p.Z)(u,"\u0275fac",function(T){return new(T||d)}),(0,p.Z)(u,"\u0275cmp",t.Xpm({type:d,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width","background",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(T,s){1&T&&(t.TgZ(0,"div",0),t.YNc(1,e,2,5,"div",1),t.YNc(2,f,2,2,"div",2),t.qZA()),2&T&&(t.Tol(s.styleClass),t.Q6J("ngStyle",s.style)("ngClass",t.WLB(7,D,"determinate"===s.mode,"indeterminate"===s.mode)),t.uIk("aria-valuenow",s.value),t.xp6(1),t.Q6J("ngIf","determinate"===s.mode),t.xp6(1),t.Q6J("ngIf","indeterminate"===s.mode))},dependencies:[b.mk,b.O5,b.PC],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})),u})(),Z=(()=>{var d;class u{}return d=u,(0,p.Z)(u,"\u0275fac",function(T){return new(T||d)}),(0,p.Z)(u,"\u0275mod",t.oAB({type:d})),(0,p.Z)(u,"\u0275inj",t.cJS({imports:[b.ez]})),u})()},6340:(J,A,r)=>{r.d(A,{V:()=>T,o:()=>g});var p=r(1180),b=r(6814),t=r(4769),y=r(5219);function e(s,_){1&s&&t.GkF(0)}function f(s,_){if(1&s&&(t.TgZ(0,"div",4),t.YNc(1,e,1,0,"ng-container",5),t.qZA()),2&s){const v=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",v.startTemplate)}}function D(s,_){1&s&&t.GkF(0)}function U(s,_){if(1&s&&(t.TgZ(0,"div",6),t.YNc(1,D,1,0,"ng-container",5),t.qZA()),2&s){const v=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",v.centerTemplate)}}function Z(s,_){1&s&&t.GkF(0)}function d(s,_){if(1&s&&(t.TgZ(0,"div",7),t.YNc(1,Z,1,0,"ng-container",5),t.qZA()),2&s){const v=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",v.endTemplate)}}const u=["*"];let g=(()=>{var s;class _{constructor(h){(0,p.Z)(this,"el",void 0),(0,p.Z)(this,"style",void 0),(0,p.Z)(this,"styleClass",void 0),(0,p.Z)(this,"templates",void 0),(0,p.Z)(this,"startTemplate",void 0),(0,p.Z)(this,"endTemplate",void 0),(0,p.Z)(this,"centerTemplate",void 0),this.el=h}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(h=>{switch(h.getType()){case"left":this.startTemplate=h.template;break;case"right":this.endTemplate=h.template;break;case"center":this.centerTemplate=h.template}})}}return s=_,(0,p.Z)(_,"\u0275fac",function(h){return new(h||s)(t.Y36(t.SBq))}),(0,p.Z)(_,"\u0275cmp",t.Xpm({type:s,selectors:[["p-toolbar"]],contentQueries:function(h,C,w){if(1&h&&t.Suo(w,y.jx,4),2&h){let S;t.iGM(S=t.CRH())&&(C.templates=S)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},ngContentSelectors:u,decls:5,vars:7,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(h,C){1&h&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.YNc(2,f,2,1,"div",1),t.YNc(3,U,2,1,"div",2),t.YNc(4,d,2,1,"div",3),t.qZA()),2&h&&(t.Tol(C.styleClass),t.Q6J("ngClass","p-toolbar p-component")("ngStyle",C.style),t.xp6(2),t.Q6J("ngIf",C.startTemplate),t.xp6(1),t.Q6J("ngIf",C.centerTemplate),t.xp6(1),t.Q6J("ngIf",C.endTemplate))},dependencies:[b.mk,b.O5,b.tP,b.PC],styles:[".p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}\n"],encapsulation:2,changeDetection:0})),_})(),T=(()=>{var s;class _{}return s=_,(0,p.Z)(_,"\u0275fac",function(h){return new(h||s)}),(0,p.Z)(_,"\u0275mod",t.oAB({type:s})),(0,p.Z)(_,"\u0275inj",t.cJS({imports:[b.ez]})),_})()}}]);